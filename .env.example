# Swaperex Environment Configuration
# Copy this file to .env and fill in your values

# ======================
# Required Settings
# ======================

# Telegram Bot Token (from @BotFather)
TELEGRAM_BOT_TOKEN=your_bot_token_here

# Admin Token (for API authentication)
ADMIN_TOKEN=your_admin_api_token

# Admin Telegram IDs (comma-separated, for receiving notifications)
ADMIN_USER_IDS=123456789,987654321
ADMIN_TELEGRAM_ID=123456789

# ======================
# Database
# ======================

DATABASE_URL=sqlite+aiosqlite:///./data/swaperex.db

# For PostgreSQL (recommended for production):
# DATABASE_URL=postgresql+asyncpg://user:pass@localhost:5432/swaperex

# ======================
# Environment Mode
# ======================

SWAPEREX_ENV=development
DEBUG=true
DRY_RUN=true

# ======================
# HD Wallet Configuration
# ======================
# Option 1: Use seed phrase (recommended - derives all xpubs automatically)
# Option 2: Configure individual xpubs per chain

# === Option 1: Seed Phrase (BIP39 Mnemonic) ===
# WARNING: Keep this secret! Anyone with your seed can access funds.
# The seed phrase will be used to derive xpubs for all supported chains.
SEED_PHRASE=your twelve word seed phrase goes here

# === Option 2: Individual Extended Public Keys ===
# Generate with: BIP84 for BTC/LTC, BIP44 for ETH/TRX
# NEVER store private keys - xpub only!

# BTC (m/84'/0'/0' for native SegWit - bc1q addresses)
XPUB_BTC=zpub...

# LTC (m/84'/2'/0' for native SegWit - ltc1q addresses)
XPUB_LTC=Ltub...

# ETH (m/44'/60'/0' - 0x addresses, works for BSC/Polygon/Avalanche too)
XPUB_ETH=xpub...

# TRX (m/44'/195'/0' - T... addresses)
XPUB_TRX=xpub...

# SOL (m/44'/501'/0' - Solana addresses)
XPUB_SOL=xpub...

# ======================
# Scanner API Keys
# ======================

# Etherscan (for ETH and ERC20 scanning)
# Get free key at https://etherscan.io/apis
ETHERSCAN_API_KEY=

# TronGrid (for TRX and TRC20 scanning)
# Get free key at https://www.trongrid.io/
TRONGRID_API_KEY=

# BscScan (for BSC and BEP20 scanning)
# Get free key at https://bscscan.com/apis
BSCSCAN_API_KEY=

# ======================
# Swap Integration API Keys
# ======================

# 1inch (for DEX aggregation)
# Get key at https://portal.1inch.dev/
ONEINCH_API_KEY=

# THORChain uses public API, no key required

# ======================
# Withdrawal RPC URLs (optional)
# ======================

# Custom Ethereum RPC (default: public llamarpc)
# ETH_RPC_URL=https://eth.llamarpc.com

# Custom BSC RPC (default: Binance public)
# BSC_RPC_URL=https://bsc-dataseed.binance.org/

# ======================
# Withdrawal Signing Configuration
# ======================

# Signer backend: local, kms, hsm (auto-detected if not set)
# SIGNER_BACKEND=local

# === Local Hot Wallet (Development/Small amounts) ===
# Private keys for hot wallet (NEVER use in production with significant funds)
# HOT_WALLET_PRIVATE_KEY=0x...  # Default for all chains
# HOT_WALLET_PRIVATE_KEY_ETH=0x...  # Chain-specific
# HOT_WALLET_PRIVATE_KEY_BTC=...

# === AWS KMS (Recommended for Production) ===
# Create asymmetric key in AWS KMS (ECC_SECG_P256K1)
# AWS_KMS_KEY_ID=alias/swaperex-signing
# AWS_KMS_KEY_ID_ETH=arn:aws:kms:us-east-1:123456789:key/...
# AWS_KMS_KEY_ID_BTC=alias/swaperex-btc-signing
# AWS_DEFAULT_REGION=us-east-1

# === Hardware Security Module (HSM) ===
# For AWS CloudHSM, Thales Luna, YubiHSM, etc.
# HSM_PKCS11_LIB=/opt/cloudhsm/lib/libcloudhsm_pkcs11.so
# HSM_PIN=your_hsm_pin
# HSM_SLOT=0
# HSM_KEY_LABEL=swaperex-signing
# HSM_KEY_LABEL_ETH=eth-signing-key

# ======================
# Safety Guards
# ======================

HOT_WALLET_THRESHOLD=0.0  # Max hot wallet balance (0 = disabled)
